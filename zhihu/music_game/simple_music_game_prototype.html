<!DOCTYPE html>
<meta charset="utf-8"> 
<html>
<head></head>

<style>
*{
    margin:0;
    padding:0;
}
</style>

<script>
var canvas_element;
var image_count=2;

canvas_element = document.createElement("canvas");
canvas_element.setAttribute("width",600);
canvas_element.setAttribute("height",480);
canvas_element.style="display:block; position:absolute; top:10px; left:10px;";
document.documentElement.appendChild(canvas_element);

var ctx = canvas_element.getContext("2d");

//var w=Math.random()*canvas_element.width;
//var h=Math.random()*canvas_element.height;

const FRAME_RATE = 60;
var intervalTime = 1000/FRAME_RATE;
//timer_id = setInterval(,intervalTime);
//clearInterval(timer_id);

function white_key(id,img,left,top,zIndex,width,height)
{
	this.id=id;
	this.image = new Image();
	this.image.src=img;
	
	var self=this;
	
	this.image.onload = function(){self.draw_flag=true;}
	this.left= left;
	this.top= top;
	this.zIndex = zIndex; 
	this.width=width;
	this.height=height;
	this.draw_flag = false;
}

function black_key(id,img,left,top,zIndex,width,height)
{
	this.id=id;
	this.image = new Image();
	this.image.src=img;
	
	var self=this;
	
	this.image.onload = function(){self.draw_flag=true;}
	this.left= left;
	this.top= top;
	this.zIndex = zIndex; 
	this.width=width;
	this.height=height;
	this.draw_flag = false;
}

document.onkeydown=function(e){
  
}

var test_1 = new white_key("第1個","white_key.png",0,0,3,35,117);
var test_2 = new black_key("第2個","black_key.png",0,0,3,35,117);

var elements = [];

elements.push(test_1);
elements.push(test_2);

var timer = setInterval(re_draw,50);

function re_draw()
{	
	ctx.fillStyle="#FFFFFF";
	ctx.fillRect(0, 0,canvas_element.width , canvas_element.height);

	elements.forEach(function(element) {
		if(element.draw_flag)
		{
			ctx.drawImage(element.image,element.left, element.top);
		}
	});
}

</script>

<body>
</body>
</html>
