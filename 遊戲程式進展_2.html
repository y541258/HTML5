<!DOCTYPE html>
<meta charset="UTF-8"/>
<html>
</html>
<head>
簡易文字型RPG示範
</head>
遊戲程式進展

<div id="div_test"><div>

<script>
document.getElementById("div_test").innerHTML += "那就RPG(角色扮演遊戲)片段吧<br>";
document.getElementById("div_test").innerHTML += "能編寫這段程式<br>";
document.getElementById("div_test").innerHTML += "十分感謝http://www.wibibi.com/info.php?tid=400<br>";
document.getElementById("div_test").innerHTML += "不然文字更改部分真的忘了:<br>";
document.getElementById("div_test").innerHTML += "如果看不懂等下內容<br>";
document.getElementById("div_test").innerHTML += "請補看巴哈姆特上的 結構化程式 入門<br>";

document.getElementById("div_test").innerHTML += "不能吃的敵人 30/30<br><br><br>"
document.getElementById("div_test").innerHTML += "主角30/30<br>"
document.getElementById("div_test").innerHTML += "輸入B可以治療自己,而A可秒殺對方<br>"
document.getElementById("div_test").innerHTML += "祝好運<br>"

document.addEventListener("keydown",p_control,false);

var w_flag=2;
var main_hp = 30;
var e_hp = 30;

setInterval(judge, 2000);


function p_control(e)
{
	if(w_flag==2)
	{
	    if(e.keyCode==66)
	    {heal();}
	    else if(e.keyCode==65)
	    {e_hp-=30;}
	}
}

function heal()
{
if(main_hp<25){main_hp +=5;}
else {main_hp= 30;}
}

function judge()
{
	w_flag=2;
    main_hp -= 7;
	document.getElementById("div_test").innerHTML +="主角被攻擊 ";
	document.getElementById("div_test").innerHTML +=main_hp;
	document.getElementById("div_test").innerHTML +="/30<br>";
	
	if(main_hp <= 0)
	{w_flag=0;
	 document.getElementById("div_test").innerHTML += "輸了,所謂預防勝於治療<br>"
	 recover();}
	 
	else if(e_hp<=0)
	{
	 w_flag=1;
	 document.getElementById("div_test").innerHTML += "有這樣的必殺技似乎能贏,贏了<br>"
		recover();
	}
}

function recover()
{
   if(w_flag == 1 || w_flag == 0)
   {main_hp=30;
   e_hp=30;}
}

</script>
</body>
</html>
